!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("VueClickaway")):"function"==typeof define&&define.amd?define(["VueClickaway"],factory):"object"==typeof exports?exports.VueInstant=factory(require("VueClickaway")):root.VueInstant=factory(root.VueClickaway)}(this,function(__WEBPACK_EXTERNAL_MODULE_9__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=2)}([function(module,exports){var g,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){__webpack_require__(6);var Component=__webpack_require__(7)(__webpack_require__(5),__webpack_require__(8),null,null);module.exports=Component.exports},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),function(global){function install(Vue){Vue.component("vueInstant",__WEBPACK_IMPORTED_MODULE_0__components_VueInstant_vue___default.a)}__webpack_exports__.install=install;var __WEBPACK_IMPORTED_MODULE_0__components_VueInstant_vue__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0__components_VueInstant_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_VueInstant_vue__);__webpack_require__.d(__webpack_exports__,"VueInstant",function(){return __WEBPACK_IMPORTED_MODULE_0__components_VueInstant_vue___default.a});var plugin={version:"1.1.14",install:install};__webpack_exports__.default=plugin;var GlobalVue=null;"undefined"!=typeof window?GlobalVue=window.Vue:void 0!==global&&(GlobalVue=global.Vue),GlobalVue&&GlobalVue.use(plugin)}.call(__webpack_exports__,__webpack_require__(0))},function(module,__webpack_exports__,__webpack_require__){"use strict";function debounce(func){function later(){var last=Date.now()-timestamp;last<wait&&last>=0?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),context=args=null))}var wait=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,immediate=arguments[2],timeout=void 0,args=void 0,context=void 0,timestamp=void 0,result=void 0,debounced=function(){context=this,args=arguments,timestamp=Date.now();var callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result};return debounced.clear=function(){timeout&&(clearTimeout(timeout),timeout=null)},debounced.flush=function(){timeout&&(result=func.apply(context,args),context=args=null,clearTimeout(timeout),timeout=null)},debounced}__webpack_exports__.a=debounce},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return isPromise}),__webpack_require__.d(__webpack_exports__,"b",function(){return isArray}),__webpack_require__.d(__webpack_exports__,"a",function(){return isFunction});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isPromise=function(obj){return!!obj&&("object"===(void 0===obj?"undefined":_typeof(obj))||"function"==typeof obj)&&"function"==typeof obj.then},isArray=function(obj){return Array.isArray?Array.isArray(obj):obj instanceof Array},isFunction=function(val){return"function"==typeof val}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_vue_clickaway__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__utils_objectUtils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue_clickaway__),__webpack_require__(4)),__WEBPACK_IMPORTED_MODULE_2__utils_debounce__=__webpack_require__(3),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};__webpack_exports__.default={name:"vueInstant",mixins:[__WEBPACK_IMPORTED_MODULE_0_vue_clickaway__.mixin],props:{value:{type:[String,Object],required:!0},suggestions:{type:[Array,Function],required:!0},suggestionAttribute:{type:String,required:!0},findSimilar:{type:Boolean,default:!0},allowSimilar:{type:Boolean,default:!1},debounce:{type:Number,default:500},placeholder:{type:String,default:"write something..."},minMatch:{type:Number,default:1},name:{type:String,default:"vueInstant"},autofocus:{type:Boolean,default:!0},disabled:{type:Boolean},showAutocomplete:{type:Boolean,default:!0},showPlaceholder:{type:Boolean,default:!0},suggestOnAllWords:{type:Boolean,default:!1},selectOnExact:{type:Boolean,default:!0},maxLimit:{type:Number,default:0}},data:function(){return{selectedEventRaw:null,selectedSuggest:null,inputChanged:!1,textVal:"",isSuggestionFn:!1,suggestionsIsVisible:!0,highlightedIndex:0,similiarData:[],placeholderVal:this.placeholder,isLoading:!1,findSuggestsCanceler:null,arrowKeysEvents:["ArrowUp","ArrowDown","ArrowRight"]}},watch:{placeholder:function(val){this.textValIsEmpty()&&(this.placeholderVal=val)},suggestions:function(val){this.handleNewSuggestion(val)}},computed:{getPlaceholder:function(){if(this.inputChanged||this.textValIsEmpty())return this.placeholderVal},showSuggestions:function(){return this.showAutocomplete&&this.suggestionsIsVisible&&this.similiarData.length>=this.minMatch},selectedEvent:function(){switch(this.selectedEventRaw){case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Left":return"ArrowLeft";case"Right":return"ArrowRight";default:return this.selectedEventRaw}}},created:function(){"string"==typeof this.value?this.textVal=this.value:"object"===("undefined"==typeof value?"undefined":_typeof(value))?this.textVal=this.value[this.suggestionAttribute]:this.textVal="",this.handleNewSuggestion()},methods:{decrementHighlightedIndex:function(){this.highlightedIndex-=1},incrementHighlightedIndex:function(){this.highlightedIndex+=1},handleNewSuggestion:function(){var val=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.suggestions;this.isSuggestionFn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils_objectUtils__.a)(val),this.isSuggestionFn&&(this.getSuggestions=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__utils_debounce__.a)(this.suggestions,this.debounce)),this.findSuggests()},handleAsyncSuggestion:function(){this.clearHighlightedIndex(),!1===(this.selectOnExact&&this.onExact())&&!1===this.suggestOnAllWords&&this.setPlaceholderVal()},escapeAction:function(){this.clearHighlightedIndex(),this.clearSimilarData(),this.clearSelected(),this.setBlur(),this.emitEscape()},arrowRightAction:function(){this.setPlaceholderAndTextVal(),this.emitKeyRight()},arrowDownAction:function(){this.arrowDownValidation()&&(this.incrementHighlightedIndex(),this.setPlaceholderAndTextVal(),this.scrollHighlightedIntoView(!1),this.emitKeyDown())},arrowUpAction:function(){this.highlightedIndex>0?(this.decrementHighlightedIndex(),this.setPlaceholderAndTextVal(),this.scrollHighlightedIntoView(!0),this.emitKeyUp()):this.clearHighlightedIndex()},scrollHighlightedIntoView:function(alignToTop){var _this=this;this.$nextTick(function(){var highlightedEl=_this.$refs.suggestions&&_this.$refs.suggestions.querySelector(".sbx-searchbox__suggestion--highlighted")||null;highlightedEl&&(highlightedEl.scrollIntoViewIfNeeded?highlightedEl.scrollIntoViewIfNeeded(!1):highlightedEl.scrollIntoView(alignToTop))})},enterAction:function(e){e&&this.setTextValue(e),this.setFinalTextValue(),this.clearHighlightedIndex(),this.clearSimilarData(),this.emitEnter()},selectedAction:function(index){this.highlightedIndex=index,this.setFinalTextValue(),this.clearPlaceholder(),this.clearSimilarData(),this.select()},addRegister:function(o){this.isSimilar(o)&&this.textValIsNotEmpty()&&this.addSuggestion(o)},addSuggestion:function(o){!this.allowSimilar&&this.findSuggestionTextIsRepited(o)||this.addToSimilarData(o)},addToSimilarData:function(o){this.canAddToSimilarData()&&(this.selectedSuggest=o,this.similiarData.push(o))},setTextValue:function(e){e.target.value.trim()&&(this.textVal=e.target.value)},setFinalTextValue:function(){this.finalTextValueValidation()?this.setPlaceholderAndTextVal():this.clearAll()},setPlaceholderAndTextVal:function(){var suggest=this.getSuggest();void 0!==suggest&&(this.setTextVal(),this.setPlaceholderVal(),this.selectedSuggest=suggest,this.select())},onExact:function(){var _this2=this,values=this.similiarData.map(function(item){return item[_this2.suggestionAttribute]}),index=values.findIndex(function(v){return _this2.textVal===v});return-1!==index&&(this.highlightedIndex=index,this.selectedSuggest=this.similiarData[index],this.clearPlaceholder(),this.select(),this.similiarData.length<=1&&(this.suggestionsIsVisible=!1),!0)},setInitialPlaceholder:function(){this.placeholderVal=this.placeholder},setBlur:function(){this.$el.blur()},isHighlighted:function(index){return this.highlightedIndex===index},letterProcess:function(o){var remoteText=o.split("");return this.textVal.split("").forEach(function(letter,key){letter!==remoteText[key]&&(remoteText[key]=letter)}),remoteText.join("")},findSuggests:function(){var _this3=this;return new Promise(function(resolve,reject){if(_this3.findSuggestsCanceler&&_this3.findSuggestsCanceler(),_this3.findSuggestsCanceler=reject,_this3.isSuggestionFn){if(_this3.isNewSuggestionsNotNeeded())return resolve();_this3.getSuggestions(_this3.textVal,function(res){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils_objectUtils__.b)(res)?resolve(res):__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils_objectUtils__.c)(res)?(_this3.isLoading=!0,res.then(function(results){_this3.isLoading=!1,resolve(results)})):resolve()})}else resolve(_this3.suggestions)}).then(function(results){if(void 0!==results)return _this3.clearSimilarData(),results.forEach(_this3.addRegister),results}).then(this.handleAsyncSuggestion).catch(function(){return null})},isNewSuggestionsNotNeeded:function(){return this.selectedSuggest&&this.selectedSuggest[this.suggestionAttribute]===this.textVal},setPlaceholderVal:function(){var suggest=this.getSuggest();suggest&&(this.placeholderVal=this.letterProcess(suggest[this.suggestionAttribute]))},setTextVal:function(){var suggest=this.getSuggest();this.textVal=suggest[this.suggestionAttribute]},getSuggest:function(){return this.similiarData[this.highlightedIndex]},arrowDownValidation:function(){return this.highlightedIndex<this.similiarData.length-1},lowerFirst:function(string){return string.charAt(0).toLowerCase()+string.slice(1)},controlEvents:function(){var uncaptz=this.lowerFirst(this.selectedEvent+"Action"),fnName=this[uncaptz];this.fnExists(fnName)&&fnName()},findRepited:function(similarItem,o){return similarItem[this.suggestionAttribute]===o[this.suggestionAttribute]},findSuggestionTextIsRepited:function(o){return this.similiarData.find(this.findRepited.bind(this,o))},finalTextValueValidation:function(){return void 0!==this.similiarData[this.highlightedIndex]||""===this.placeholderVal&&0!==this.highlightedIndex},isSimilar:function(o){if(!1===this.findSimilar)return!0;if(o){if(this.suggestOnAllWords){var isMatch=!1,words=o[this.suggestionAttribute].split(" "),textValWords=this.textVal.split(" ");if(words.length>0)return words.forEach(function(word){textValWords.length>0?textValWords.forEach(function(textValWord){word.toLowerCase().startsWith(textValWord.toLowerCase())&&(isMatch=!0)}):word.toLowerCase().startsWith(this.textVal.toLowerCase())&&(isMatch=!0)}),isMatch}return o[this.suggestionAttribute].toLowerCase().startsWith(this.textVal.toLowerCase())}},isSameType:function(o){return o.name===this.type},fnExists:function(fnName){return"function"==typeof fnName},canAddToSimilarData:function(){return!this.maxLimit||this.similiarData.length<this.maxLimit},notArrowKeysEvent:function(){return!this.arrowKeysEvents.includes(this.selectedEvent)},notEnterKeyEvent:function(){return"Enter"!==this.selectedEvent},textValIsEmpty:function(){return""===this.textVal},textValIsNotEmpty:function(){return""!==this.textVal},reset:function(){this.clearValue(),this.clearSelected(),this.clearPlaceholder(),this.clearSimilarData(),this.clearSelectedSuggest(),this.emitClear(),this.select()},clearAll:function(){this.clearSelected(),this.clearPlaceholder(),this.clearSimilarData(),this.clearSelectedSuggest()},clearValue:function(){this.textVal=""},clearSelected:function(){this.selected=null},clearSelectedSuggest:function(){this.selectedSuggest=null},clearSimilarData:function(){this.similiarData=[]},clearPlaceholder:function(){this.textValIsEmpty()?(this.clearSimilarData(),this.setInitialPlaceholder()):this.placeholderVal=""},clearHighlightedIndex:function(){this.highlightedIndex=0},changeText:function(e){this.selectedEventRaw=e.key,this.setTextValue(e),this.processChangeText(e),this.controlEvents(e)},processChangeText:function(e){if(this.notEnterKeyEvent()){if(this.selectOnExact&&this.onExact())return;this.emitChange(),this.inputChanged=!0,this.suggestionsIsVisible=!0,this.clearAllAndFindSuggest()}},clearAllAndFindSuggest:function(){this.notArrowKeysEvent()&&(this.clearAll(),this.findSuggests())},away:function(){this.suggestionsIsVisible=!1},inputClick:function(e){this.suggestionsIsVisible=!0,this.emitClickInput(e)},select:function(){this.emitSelected(),this.emitChange()},emitChange:function(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textVal;this.$emit("input",value)},emitClickInput:function(event){this.$emit("click-input",event)},emitClickButton:function(event){this.$emit("click-button",this.textVal)},emitEnter:function(){this.$emit("enter")},emitKeyUp:function(){this.$emit("key-up")},emitKeyDown:function(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedSuggest;this.$emit("key-down",value)},emitKeyRight:function(){this.$emit("key-right")},emitClear:function(){this.$emit("clear")},emitEscape:function(){this.$emit("escape")},emitSelected:function(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedSuggest;this.$emit("selected",value)}}}},function(module,exports){},function(module,exports){module.exports=function(rawScriptExports,compiledTemplate,scopeId,cssModules){var esModule,scriptExports=rawScriptExports=rawScriptExports||{},type=typeof rawScriptExports.default;"object"!==type&&"function"!==type||(esModule=rawScriptExports,scriptExports=rawScriptExports.default);var options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(compiledTemplate&&(options.render=compiledTemplate.render,options.staticRenderFns=compiledTemplate.staticRenderFns),scopeId&&(options._scopeId=scopeId),cssModules){var computed=options.computed||(options.computed={});Object.keys(cssModules).forEach(function(key){var module=cssModules[key];computed[key]=function(){return module}})}return{esModule:esModule,exports:scriptExports,options:options}}},function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"sbx-searchbox"},[_vm.showPlaceholder?_c("input",{staticClass:"sbx-searchbox__input-placeholder",attrs:{type:"text",name:"search",autocomplete:"off",required:"required",tabindex:"-1"},domProps:{value:_vm.getPlaceholder}}):_vm._e(),_vm._v(" "),_c("span",{class:{show:_vm.isLoading,"sbx-searchbox__spinner":!0}}),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.textVal,expression:"textVal"}],staticClass:"sbx-searchbox__input",attrs:{type:"text",placeholder:"",autocomplete:"off",required:"required",autofocus:_vm.autofocus,disabled:_vm.disabled,name:_vm.name},domProps:{value:_vm.textVal},on:{click:_vm.inputClick,keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:($event.stopPropagation(),_vm.enterAction($event))},keyup:_vm.changeText,input:function($event){$event.target.composing||(_vm.textVal=$event.target.value)}}}),_vm._v(" "),_vm.showSuggestions?_c("ul",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:_vm.away,expression:"away"}],ref:"suggestions",staticClass:"sbx-searchbox__suggestions"},_vm._l(_vm.similiarData,function(item,index){return _c("li",{class:{"sbx-searchbox__suggestion--highlighted":_vm.isHighlighted(index)},on:{click:function($event){return _vm.selectedAction(index)}}},[_vm._v("\r\n            "+_vm._s(item[_vm.suggestionAttribute])+"\r\n        ")])}),0):_vm._e()])},staticRenderFns:[]}},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_9__}])});